job_name: test-job
version: 2
pipeline_options:
  streaming: True
  update: False
  worker_harness_container_image: "gcr.io/test-gcp-project/test-job-worker"
  experiments:
    - beam_fn_api
  project: test-gcp-project
  runner: DirectRunner
job_config:
  allow_non_klio_messages: False
  events:
    inputs:
      - type: pubsub
        topic: projects/test-parent-gcp-project/topics/test-parent-job-output
        subscription: projects/test-gcp-project/subscriptions/test-parent-job-output-test-job
    outputs:
      - type: pubsub
        topic: projects/test-gcp-project/topics/test-job-output
  data:
    inputs:
      - type: file
        location: gs://test-parent-gcp-project-output/test-parent-job
    outputs:
      - type: file
        location: gs://test-gcp-project-output/test-job
